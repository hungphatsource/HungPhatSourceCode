<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="../d3_chart.css" />
        <link rel="stylesheet" type="text/css" href="style.css" />
        <script type="text/javascript" src="../d3.min.js"></script>
        <script type="text/javascript" src="../d3_chart.js"></script>
        <script type="text/javascript" language="javascript">
            function loadChart(){
                d3.json(
                'data/data.5.json'
                , 
                function(data) {
                    nv.addGraph(function() {
                        var chart = nv.models.pieChart()
                            .margin({top: 30, right: 20, bottom: 75, left: 75})
                            .tooltips(true)  //used to display values insie popup
                            .showValues(true)  //used to display values on the graph
                            .showLegend(true) //display or hide legend       
                            .donut(true)
                            .state({disabled: {'2@period_id:2@cycle_id:': true}})
                            
                        d3.select('#chart5 svg')
                            .datum(data)
                            .transition().duration(500)
                            .call(chart);

                        nv.utils.windowResize(chart.update);

                        return chart;
                    });
                
                });
                
                d3.json(
                'data/data.4.json'
                , 
                function(data) {
                    nv.addGraph(function() {
                        var chart = nv.models.pieChart()
                            .margin({top: 30, right: 20, bottom: 75, left: 75})
                            .tooltips(true)  //used to display values insie popup
                            .showValues(true)  //used to display values on the graph
                            .showLegend(false);//display or hide legend       
                            
                        d3.select('#chart4 svg')
                            .datum(data)
                            .transition().duration(500)
                            .call(chart);

                        nv.utils.windowResize(chart.update);

                        return chart;
                    });
                
                });
                
                d3.json(
                'data/data.3.json'
                , 
                function(data) {
                    nv.addGraph(function() {
                        var chart = nv.models.pieChart()
                            .margin({top: 30, right: 20, bottom: 75, left: 75})
                            .tooltips(true);
                                        
                        d3.select('#chart3 svg')
                            .datum(data)
                            .transition().duration(500)
                            .call(chart);

                        nv.utils.windowResize(chart.update);

                        return chart;
                    });
                
                });
                d3.json(
                'data/data.2.json'
                , 
                function(data) {
                    nv.addGraph(function() {
                        var chart = nv.models.pieChart()
                            .margin({top: 30, right: 20, bottom: 75, left: 75})
                            .labelType('value')
                            .tooltips(true);
                                        
                        d3.select('#chart2 svg')
                            .datum(data)
                            .transition().duration(500)
                            .call(chart);

                        nv.utils.windowResize(chart.update);

                        return chart;
                    });
                
                });
				
              d3.json(
                'data/data.1.json'
                , 
                function(data) {
                    nv.addGraph(function() {
                        var chart = nv.models.pieChart()
                            .margin({top: 30, right: 20, bottom: 75, left: 75})
                            .showValues(true)
                            .tooltips(false)
                                        
                        d3.select('#chart svg')
                            .datum(data)
                            .transition().duration(500)
                            .call(chart);

                        nv.utils.windowResize(chart.update);

                        return chart;
                    });
                
                });
            }
        </script>
    </head>
    <body  onload="loadChart()">
        <h1>Test graphiques 3 axes</h1>
        <div id="chart5">
          <svg></svg>
        </div>
        <div id="chart4">
          <svg></svg>
        </div>
        <div id="chart3">
          <svg></svg>
        </div>
        <div id="chart2">
          <svg></svg>
        </div>
        <div id="chart">
          <svg></svg>
        </div>
    </body>
</html>
